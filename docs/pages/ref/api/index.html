<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Packages API | Commander 4</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="Moderation reimagined">
    
    <link rel="preload" href="/assets/css/0.styles.7cfabf05.css" as="style"><link rel="preload" href="/assets/js/app.800f011b.js" as="script"><link rel="preload" href="/assets/js/2.bf48a11f.js" as="script"><link rel="preload" href="/assets/js/12.bb1f4f1c.js" as="script"><link rel="prefetch" href="/assets/js/10.5e28d9e7.js"><link rel="prefetch" href="/assets/js/11.7ed3ba90.js"><link rel="prefetch" href="/assets/js/13.673b6fc0.js"><link rel="prefetch" href="/assets/js/3.53b004f2.js"><link rel="prefetch" href="/assets/js/4.3af4e00b.js"><link rel="prefetch" href="/assets/js/5.4111b6e0.js"><link rel="prefetch" href="/assets/js/6.b00d925a.js"><link rel="prefetch" href="/assets/js/7.79fba82f.js"><link rel="prefetch" href="/assets/js/8.22105a72.js"><link rel="prefetch" href="/assets/js/9.28dd268f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7cfabf05.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Commander 4</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/pages/getstarted/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="API reference" class="dropdown-title"><span class="title">API reference</span> <span class="arrow down"></span></button> <button type="button" aria-label="API reference" class="mobile-dropdown-title"><span class="title">API reference</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/ref/api/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Package API
</a></li><li class="dropdown-item"><!----> <a href="/pages/ref/ui/" class="nav-link">
  UI Toolkit
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Guides" class="dropdown-title"><span class="title">Guides</span> <span class="arrow down"></span></button> <button type="button" aria-label="Guides" class="mobile-dropdown-title"><span class="title">Guides</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/guides/packages/" class="nav-link">
  Making packages
</a></li><li class="dropdown-item"><!----> <a href="/pages/guides/code/" class="nav-link">
  Code of Conduct
</a></li></ul></div></div> <a href="https://github.com/va1kio/commander" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/pages/getstarted/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="API reference" class="dropdown-title"><span class="title">API reference</span> <span class="arrow down"></span></button> <button type="button" aria-label="API reference" class="mobile-dropdown-title"><span class="title">API reference</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/ref/api/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Package API
</a></li><li class="dropdown-item"><!----> <a href="/pages/ref/ui/" class="nav-link">
  UI Toolkit
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Guides" class="dropdown-title"><span class="title">Guides</span> <span class="arrow down"></span></button> <button type="button" aria-label="Guides" class="mobile-dropdown-title"><span class="title">Guides</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/guides/packages/" class="nav-link">
  Making packages
</a></li><li class="dropdown-item"><!----> <a href="/pages/guides/code/" class="nav-link">
  Code of Conduct
</a></li></ul></div></div> <a href="https://github.com/va1kio/commander" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Packages API</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/ref/api/#methods" class="sidebar-link">Methods</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/ref/api/#api-sendmodaltoplayer-player-player-title-string-nil" class="sidebar-link">API.sendModalToPlayer(Player: player, Title: string|nil)</a></li><li class="sidebar-sub-header"><a href="/pages/ref/api/#api-sendlisttoplayer-player-player-title-string-attachment-table" class="sidebar-link">API.sendListToPlayer(Player: player, Title: string, Attachment: table)</a></li><li class="sidebar-sub-header"><a href="/pages/ref/api/#api-filtertext-from-instance-content-string" class="sidebar-link">API.filterText(From: instance, Content: string)</a></li><li class="sidebar-sub-header"><a href="/pages/ref/api/#api-getuseridwithname-player-string" class="sidebar-link">API.getUserIdWithName(Player: string)</a></li><li class="sidebar-sub-header"><a href="/pages/ref/api/#api-getcharacter-player-instance-character" class="sidebar-link">API.getCharacter(Player: instance) =&gt; Character</a></li><li class="sidebar-sub-header"><a href="/pages/ref/api/#api-getplayerwithname-player-string" class="sidebar-link">API.getPlayerWithName(Player: string)</a></li><li class="sidebar-sub-header"><a href="/pages/ref/api/#api-checkadmin-userid-integer" class="sidebar-link">API.checkAdmin(UserId: integer)</a></li><li class="sidebar-sub-header"><a href="/pages/ref/api/#api-getadmins" class="sidebar-link">API.getAdmins()</a></li><li class="sidebar-sub-header"><a href="/pages/ref/api/#api-dothistoplayers-client-instance-player-string-callback-function-player" class="sidebar-link">API.doThisToPlayers(Client: instance, Player: string, Callback: function) =&gt; Player</a></li><li class="sidebar-sub-header"><a href="/pages/ref/api/#api-getavailableadmins" class="sidebar-link">API.getAvailableAdmins()</a></li><li class="sidebar-sub-header"><a href="/pages/ref/api/#api-registerplayeraddedevent-function-function" class="sidebar-link">API.registerPlayerAddedEvent(Function: function)</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="packages-api"><a href="#packages-api" class="header-anchor">#</a> Packages API</h1> <p>The API is used for packages to communicate or interact with players without making your packages bloated in size.</p> <p>You do not need to initialise the API module in your package as the system loader does it for you already. To access it, simply index through the table returned once required, like: <code>module.API</code></p> <h2 id="methods"><a href="#methods" class="header-anchor">#</a> Methods</h2> <h3 id="api-sendmodaltoplayer-player-player-title-string-nil"><a href="#api-sendmodaltoplayer-player-player-title-string-nil" class="header-anchor">#</a> API.sendModalToPlayer(Player: player, Title: string|nil)</h3> <p>Sends request to player to prompt an input modal, returns a <code>BindableEvent</code>, which will be fired when user submitted data. The bindable will return the user input.</p> <h4 id="example"><a href="#example" class="header-anchor">#</a> Example</h4> <div class="language-lua extra-class"><pre class="language-lua"><code>module<span class="token punctuation">.</span>API<span class="token punctuation">.</span><span class="token function">sendModalToPlayer</span><span class="token punctuation">(</span>Player<span class="token punctuation">,</span> <span class="token string">&quot;What is 1 + 1?&quot;</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token function">Connect</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>Input<span class="token punctuation">)</span>
	<span class="token function">print</span><span class="token punctuation">(</span>Input<span class="token punctuation">)</span>
<span class="token keyword">end</span><span class="token punctuation">)</span>
<span class="token comment">-- both works!</span>
<span class="token keyword">local</span> input <span class="token operator">=</span> module<span class="token punctuation">.</span>API<span class="token punctuation">.</span><span class="token function">sendModalToPlayer</span><span class="token punctuation">(</span>Player<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token function">Wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>Input<span class="token punctuation">)</span>
</code></pre></div><h3 id="api-sendlisttoplayer-player-player-title-string-attachment-table"><a href="#api-sendlisttoplayer-player-player-title-string-attachment-table" class="header-anchor">#</a> API.sendListToPlayer(Player: player, Title: string, Attachment: table)</h3> <p>Sends request to player to prompt a window with a list.</p> <h4 id="example-2"><a href="#example-2" class="header-anchor">#</a> Example</h4> <div class="language-lua extra-class"><pre class="language-lua"><code>module<span class="token punctuation">.</span>API<span class="token punctuation">.</span><span class="token function">sendListToPlayer</span><span class="token punctuation">(</span>Player<span class="token punctuation">,</span> <span class="token string">&quot;List&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">&quot;Hello world&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Hello, world!&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="api-filtertext-from-instance-content-string"><a href="#api-filtertext-from-instance-content-string" class="header-anchor">#</a> API.filterText(From: instance, Content: string)</h3> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>This method yields</p></div> <p>Filter the content with <code>TextService</code></p> <h4 id="example-3"><a href="#example-3" class="header-anchor">#</a> Example</h4> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token function">print</span><span class="token punctuation">(</span>module<span class="token punctuation">.</span>API<span class="token punctuation">.</span><span class="token function">filterText</span><span class="token punctuation">(</span>Player<span class="token punctuation">,</span> <span class="token string">&quot;Goodbye!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="api-getuseridwithname-player-string"><a href="#api-getuseridwithname-player-string" class="header-anchor">#</a> API.getUserIdWithName(Player: string)</h3> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>This method yields</p></div> <p>Gets the player's identifier with their name</p> <h4 id="example-4"><a href="#example-4" class="header-anchor">#</a> Example</h4> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token function">print</span><span class="token punctuation">(</span>module<span class="token punctuation">.</span>API<span class="token punctuation">.</span><span class="token function">getUserIdWithName</span><span class="token punctuation">(</span><span class="token string">&quot;nana_kon&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="api-getcharacter-player-instance-character"><a href="#api-getcharacter-player-instance-character" class="header-anchor">#</a> API.getCharacter(Player: instance) =&gt; Character</h3> <p>Gets the player's character with their player instance</p> <h4 id="example-5"><a href="#example-5" class="header-anchor">#</a> Example</h4> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token function">print</span><span class="token punctuation">(</span>module<span class="token punctuation">.</span>API<span class="token punctuation">.</span><span class="token function">getCharacter</span><span class="token punctuation">(</span>module<span class="token punctuation">.</span>API<span class="token punctuation">.</span><span class="token function">getPlayerWithName</span><span class="token punctuation">(</span><span class="token string">&quot;nana_kon&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Humanoid<span class="token punctuation">.</span>Health<span class="token punctuation">)</span>
</code></pre></div><h3 id="api-getplayerwithname-player-string"><a href="#api-getplayerwithname-player-string" class="header-anchor">#</a> API.getPlayerWithName(Player: string)</h3> <p>Gets the player's instance with their name</p> <h4 id="example-6"><a href="#example-6" class="header-anchor">#</a> Example</h4> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token function">print</span><span class="token punctuation">(</span>module<span class="token punctuation">.</span>API<span class="token punctuation">.</span><span class="token function">getPlayerWithName</span><span class="token punctuation">(</span><span class="token string">&quot;nana_kon&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Name<span class="token punctuation">)</span>
</code></pre></div><h3 id="api-checkadmin-userid-integer"><a href="#api-checkadmin-userid-integer" class="header-anchor">#</a> API.checkAdmin(UserId: integer)</h3> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>This method yields depending on the situation</p></div> <p>Determines whether the player is an administrator or not, the method will yield if the administrator table contains usernames instead of identifiers.</p> <h4 id="example-7"><a href="#example-7" class="header-anchor">#</a> Example</h4> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token keyword">if</span> module<span class="token punctuation">.</span>API<span class="token punctuation">.</span><span class="token function">checkAdmin</span><span class="token punctuation">(</span>Player<span class="token punctuation">.</span>UserId<span class="token punctuation">)</span> <span class="token keyword">then</span>
	<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;They are an admin!&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre></div><h3 id="api-getadmins"><a href="#api-getadmins" class="header-anchor">#</a> API.getAdmins()</h3> <p>Returns a table of administrators</p> <h4 id="example-8"><a href="#example-8" class="header-anchor">#</a> Example</h4> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token keyword">for</span> i<span class="token punctuation">,</span>v <span class="token keyword">in</span> <span class="token function">pairs</span><span class="token punctuation">(</span>module<span class="token punctuation">.</span>API<span class="token punctuation">.</span><span class="token function">getAdmins</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">do</span>
	<span class="token function">print</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre></div><h3 id="api-dothistoplayers-client-instance-player-string-callback-function-player"><a href="#api-dothistoplayers-client-instance-player-string-callback-function-player" class="header-anchor">#</a> API.doThisToPlayers(Client: instance, Player: string, Callback: function) =&gt; Player</h3> <div class="custom-block danger"><p class="custom-block-title">WARNING</p> <p>Use this at your own risk, this should not be used in commands that can be extremely abusive</p></div> <p>A lightweight callback processor, accepts &quot;All&quot;, &quot;Others&quot;, &quot;Random&quot; or the player name.</p> <h4 id="example-9"><a href="#example-9" class="header-anchor">#</a> Example</h4> <div class="language-lua extra-class"><pre class="language-lua"><code>module<span class="token punctuation">.</span>API<span class="token punctuation">.</span><span class="token function">doThisToPlayers</span><span class="token punctuation">(</span>Client<span class="token punctuation">,</span> <span class="token string">&quot;All&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>Player<span class="token punctuation">)</span>
	<span class="token function">print</span><span class="token punctuation">(</span>Player<span class="token punctuation">.</span>Name<span class="token punctuation">)</span>
<span class="token keyword">end</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="api-getavailableadmins"><a href="#api-getavailableadmins" class="header-anchor">#</a> API.getAvailableAdmins()</h3> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>This method yields depending on the situation</p></div> <p>Returns the number of administrators in server, this method will yield if the administrator table contains usernames instead of identifiers, as it relies on <code>API.checkAdmin(Player)</code></p> <h4 id="example-10"><a href="#example-10" class="header-anchor">#</a> Example</h4> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;There are &quot;</span> <span class="token operator">..</span> module<span class="token punctuation">.</span>API<span class="token punctuation">.</span><span class="token function">getAvailableAdmins</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">..</span> <span class="token string">&quot; administrators available!&quot;</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="api-registerplayeraddedevent-function-function"><a href="#api-registerplayeraddedevent-function-function" class="header-anchor">#</a> API.registerPlayerAddedEvent(Function: function)</h3> <p>Adds the function into the <code>Players.PlayerAdded</code> event, useful if you are implementing something that needs to be checked for every player. When a player joins, the function will be called along with the joined player's instance.</p> <h4 id="example-11"><a href="#example-11" class="header-anchor">#</a> Example</h4> <div class="language-lua extra-class"><pre class="language-lua"><code>module<span class="token punctuation">.</span>API<span class="token punctuation">.</span><span class="token function">registerPlayerAddedEvent</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>Player<span class="token punctuation">)</span>
	<span class="token function">warn</span><span class="token punctuation">(</span>Player<span class="token punctuation">.</span>Name <span class="token operator">..</span> <span class="token string">&quot; joined the game.&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">end</span><span class="token punctuation">)</span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/va1kio/commander-site/edit/master/docs/v1/pages/ref/api/README.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.800f011b.js" defer></script><script src="/assets/js/2.bf48a11f.js" defer></script><script src="/assets/js/12.bb1f4f1c.js" defer></script>
  </body>
</html>
